uuid: 2b3be5ed-8d02-41fb-8e07-6a5c5d3468c3
langcode: en
status: open
dependencies:
  module:
    - nidirect_webforms
weight: 0
open: null
close: null
uid: 28
template: false
archive: false
id: prison_visit_online_booking
title: 'Prison visit online booking'
description: ''
categories: {  }
elements: |-
  booking_reference_prisoner_reference:
    '#type': webform_wizard_page
    '#title': 'Booking reference / prisoner reference'
    booking_and_prisoner_reference_preamble:
      '#type': webform_markup
      '#markup': |-
        <p class="info-notice" role="status">
        To book a prison visit, you will need a visit reference number (or booking reference) and a prisoner ID for the prisoner you want to visit.
        </p>
    visitor_order_number:
      '#type': textfield
      '#title': 'Visit reference number'
      '#description': 'For example, AAA9999-9999'
      '#description_display': before
      '#maxlength': 12
      '#size': 14
      '#autocomplete': 'off'
      '#input_mask': AAA9999-9999
      '#required': true
      '#required_error': 'Visit reference number is required'
      '#pattern': '[A-Z]{3}[0-9]{4}-[0-9]{4}'
      '#pattern_error': 'Visit reference number is incorrect.'
      '#attributes':
        data-inputmask-placeholder: '  '
      '#data-tippy-arrow': false
    prisoner_id:
      '#type': textfield
      '#title': 'Prisoner ID'
      '#description': 'For example, A9999'
      '#description_display': before
      '#maxlength': 5
      '#size': 6
      '#autocomplete': 'off'
      '#input_mask': 'A9[9][9][9]'
      '#required': true
      '#pattern': '[A-H][0-9]{1,4}'
      '#pattern_error': 'Prisoner ID is not recognised'
      '#attributes':
        data-inputmask-placeholder: ' '
  visitor_details_page:
    '#type': webform_wizard_page
    '#title': 'Visitor details'
    '#next_button_label': Next
    visitor_1_details:
      '#type': fieldset
      '#title': 'Your details'
      visitor_1_intro:
        '#type': webform_markup
        '#markup': |-
          <p class="info-notice" role="status">
          Provide your details as the main visitor. &nbsp;You'll be able to add additional visitors in the next step.
          </p>
      visitor_1_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#description': 'Enter your 6 digit visitor ID number.'
        '#description_display': before
        '#maxlength': 6
        '#size': 8
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#required': true
        '#required_error': 'Enter the visitor ID for the main visitor'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID is not recognised'
      visitor_1_dob:
        '#type': date
        '#title': 'Date of birth'
        '#description': 'Your date of birth must match the one we have on record for you.'
        '#description_display': before
        '#required': true
        '#required_error': 'Enter a valid date of birth'
        '#format': d/m/Y
      visitor_1_email:
        '#type': webform_email_confirm
        '#title': 'Email address'
        '#description': 'We will use this email address to notify you if your booking is successful.'
        '#description_display': before
        '#autocomplete': 'off'
        '#required': true
        '#pattern': '[^@\s]+@[^@\s]+\.[^@\s]+'
        '#pattern_error': 'Enter a valid email address'
        '#flexbox': '0'
      visitor_1_telephone:
        '#type': textfield
        '#title': 'Telephone number'
        '#description': 'Provide your telephone number in case we need to contact you about this booking.'
        '#description_display': before
        '#maxlength': 20
        '#size': 22
        '#autocomplete': 'off'
        '#required': true
        '#pattern': '^[\+0-9\s\-\(\)]+$'
        '#pattern_error': 'Enter a valid telephone or mobile number'
        '#attributes':
          data-inputmask-placeholder: ' '
  additional_visitors:
    '#type': webform_wizard_page
    '#title': 'Additional visitors'
    additional_visitors_fieldset:
      '#type': fieldset
      '#title': 'Additional visitors'
      '#format': container
      msg_existing_additional_visitors:
        '#type': webform_markup
        '#markup': |-
          <p class="info-notice" role="status">
          Existing details of additional visitors from a previous booking have been found.
          </p>
      msg_additional_visitors:
        '#type': webform_markup
        '#markup': |-
          <p role="status" class="info-notice">
          You can add up to 4 additional visitors.  The maximum number of adults you can add is 2.  The maximum number of children you can add ranges from 2 to 4, depending on how many adults you have added.
          </p>
      additional_visitors_add:
        '#type': radios
        '#title': 'Do you want to add additional visitors?'
        '#description_display': before
        '#options':
          'yes': 'Yes'
          'no': 'No'
        '#options_display': side_by_side
        '#required': true
      additional_visitor_adult_number:
        '#type': select
        '#title': 'How many additional adults?'
        '#options':
          - '0'
          - '1'
          - '2'
        '#empty_option': Select
        '#states':
          visible:
            ':input[name="additional_visitors_add"]':
              value: 'yes'
          required:
            ':input[name="additional_visitors_add"]':
              value: 'yes'
      additional_visitor_child_number:
        '#type': select
        '#title': 'How many additional children?'
        '#options':
          - '0'
          - '1'
          - '2'
          - '3'
          - '4'
        '#empty_option': Select
        '#states':
          visible:
            ':input[name="additional_visitor_adult_number"]':
              filled: true
            ':input[name="additional_visitors_add"]':
              value: 'yes'
          required:
            ':input[name="additional_visitors_add"]':
              value: 'yes'
  additional_visitor_adult_details:
    '#type': webform_wizard_page
    '#title': 'Additional adult visitors'
    '#states':
      visible:
        ':input[name="additional_visitors_add"]':
          value: 'yes'
        ':input[name="additional_visitor_adult_number"]':
          value:
            greater: '0'
    '#format': container
    additional_visitors_adult:
      '#type': webform_markup
      '#markup': |-
        <p class="info-notice">
        Enter the correct visitor ID and date of birth for each additional adult visitor. If visitor details entered here do not match those we hold on record, they will not be included in the booking.
        </p>
    additional_visitor_adult_1_details:
      '#type': details
      '#title': 'Enter details for additional adult 1'
      '#open': true
      additional_visitor_adult_1_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#title_display': inline
        '#description_display': before
        '#maxlength': 6
        '#size': 10
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID must be a 6 digit number'
        '#states':
          required:
            ':input[name="additional_visitor_adult_number"]':
              value:
                greater: '0'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor one visitor ID'
      additional_visitor_adult_1_dob:
        '#type': date
        '#title': 'Date of birth'
        '#title_display': inline
        '#states':
          required:
            ':input[name="additional_visitor_adult_number"]':
              value:
                greater: '0'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor one date of birth'
        '#format': d/m/Y
        '#date_date_max': '-18 years'
    additional_visitor_adult_2_details:
      '#type': details
      '#title': 'Enter details for additional adult 2'
      '#open': true
      '#states':
        visible:
          ':input[name="additional_visitor_adult_number"]':
            value:
              greater: '1'
      additional_visitor_adult_2_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#title_display': inline
        '#description_display': before
        '#maxlength': 6
        '#size': 10
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID must be a 6 digit number'
        '#states':
          required:
            ':input[name="additional_visitor_adult_number"]':
              value:
                greater: '1'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor one visitor ID'
      additional_visitor_adult_2_dob:
        '#type': date
        '#title': 'Date of birth'
        '#title_display': inline
        '#states':
          required:
            ':input[name="additional_visitor_adult_number"]':
              value:
                greater: '1'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor two date of birth'
        '#format': d/m/Y
  additional_visitor_child_details:
    '#type': webform_wizard_page
    '#title': 'Additional child visitors'
    '#states':
      visible:
        ':input[name="additional_visitors_add"]':
          value: 'yes'
        ':input[name="additional_visitor_child_number"]':
          value:
            greater: '0'
    '#format': container
    additional_visitors_child:
      '#type': webform_markup
      '#markup': |-
        <p class="info-notice">
        Enter the correct visitor ID and date of birth for each additional child visitor. If visitor details entered here do not match those we hold on record, they will not be included in the booking.
        </p>
    additional_visitor_child_1_details:
      '#type': details
      '#title': 'Enter details for additional child 1'
      '#open': true
      additional_visitor_child_1_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#title_display': inline
        '#maxlength': 6
        '#size': 10
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID must be a 6 digit number'
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '0'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor three visitor ID'
      additional_visitor_child_1_dob:
        '#type': date
        '#title': 'Date of birth'
        '#title_display': inline
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '0'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor three date of birth'
        '#format': d/m/Y
    additional_visitor_child_2_details:
      '#type': details
      '#title': 'Enter details for additional child 2'
      '#open': true
      '#states':
        visible:
          ':input[name="additional_visitor_child_number"]':
            value:
              greater: '1'
      additional_visitor_child_2_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#title_display': inline
        '#maxlength': 6
        '#size': 10
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID is not recognised'
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '1'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four visitor ID'
      additional_visitor_child_2_dob:
        '#type': date
        '#title': 'Date of birth'
        '#title_display': inline
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '1'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four date of birth'
        '#format': d/m/Y
    additional_visitor_child_3_details:
      '#type': details
      '#title': 'Enter details for additional child 3'
      '#open': true
      '#states':
        visible:
          ':input[name="additional_visitor_child_number"]':
            value:
              greater: '2'
      additional_visitor_child_3_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#title_display': inline
        '#maxlength': 6
        '#size': 10
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID is not recognised'
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '2'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four visitor ID'
      additional_visitor_child_3_dob:
        '#type': date
        '#title': 'Date of birth'
        '#title_display': inline
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '2'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four date of birth'
        '#format': d/m/Y
    additional_visitor_child_4_details:
      '#type': details
      '#title': 'Enter details for additional child 4'
      '#open': true
      '#states':
        visible:
          ':input[name="additional_visitor_child_number"]':
            value:
              greater: '3'
      additional_visitor_child_4_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#title_display': inline
        '#maxlength': 6
        '#size': 10
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID is not recognised'
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '3'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four visitor ID'
      additional_visitor_child_4_dob:
        '#type': date
        '#title': 'Date of birth'
        '#title_display': inline
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '3'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four date of birth'
        '#format': d/m/Y
    additional_visitor_child_5_details:
      '#type': details
      '#title': 'Enter details for additional child 5'
      '#open': true
      '#states':
        visible:
          ':input[name="additional_visitor_child_number"]':
            value:
              greater: '4'
      additional_visitor_child_5_id:
        '#type': textfield
        '#title': 'Visitor ID'
        '#title_display': inline
        '#maxlength': 6
        '#size': 10
        '#placeholder': '000000'
        '#autocomplete': 'off'
        '#pattern': '[0-9]{6}'
        '#pattern_error': 'Visitor ID is not recognised'
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '4'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four visitor ID'
      additional_visitor_child_5_dob:
        '#type': date
        '#title': 'Date of birth'
        '#title_display': inline
        '#states':
          required:
            ':input[name="additional_visitor_child_number"]':
              value:
                greater: '4'
        '#label_attributes':
          style: 'min-width: 7em; display: inline-block'
          aria-label: 'Additional visitor four date of birth'
        '#format': d/m/Y
  visitor_special_requirements:
    '#type': webform_wizard_page
    '#title': 'Visitor special requirements'
    visitor_special_requirements_choice:
      '#type': radios
      '#title': 'Do you or any other visitors have any special requirements?'
      '#description': 'For example, do any visitors require wheelchair access?'
      '#description_display': before
      '#options':
        'yes': 'Yes'
        'no': 'No'
      '#options_display': side_by_side
      '#required': true
    visitor_special_requirements_details:
      '#type': textarea
      '#title': 'Tell us about any special requirements you or the other visitors may have'
      '#maxlength': 1000
      '#rows': 5
      '#autocomplete': 'off'
      '#required': true
      '#counter_type': character
      '#counter_minimum': 1
      '#counter_maximum': 1000
      '#states':
        visible-slide:
          ':input[name="visitor_special_requirements_choice"]':
            value: 'yes'
  remember_settings:
    '#type': webform_wizard_page
    '#title': 'Remember settings'
    '#format': container
    additional_visitor_save_details:
      '#type': fieldset
      '#title': 'Remember visitor details?'
      '#description_display': before
      '#states':
        visible:
          - ':input[name="additional_visitor_adult_number"]':
              value:
                greater: '0'
          - or
          - ':input[name="additional_visitor_child_number"]':
              value:
                greater: '0'
      '#format': details
      remember_settings_info:
        '#type': webform_markup
        '#markup': |-
          <p>Visitor details can be remembered for up to one week on your device.</p>

          <p class="info-notice">
          Select <strong>No</strong> if you're using a publicly accessible computer or a device shared with others.
          </p>
      additional_visitors_remember:
        '#type': radios
        '#title': 'Do you want to remember additional visitor details?'
        '#title_display': invisible
        '#options':
          'yes': 'Yes'
          'no': 'No'
        '#options_display': side_by_side
        '#required': true
  visit_preferred_day_and_time:
    '#type': webform_wizard_page
    '#title': 'Visit details'
    '#states_clear': false
    '#prev_button_label': Previous
    '#next_button_label': Next
    prison_name:
      '#type': value
      '#title': Prison
    visit_type:
      '#type': value
      '#title': 'Visit type'
    booking_reference_processed:
      '#type': value
      '#title': 'Booking reference processed'
    visit_details:
      '#type': webform_computed_twig
      '#title': 'Visit details'
      '#title_display': invisible
      '#states_clear': false
      '#label_attributes':
        class:
          - visually-hidden
      '#mode': html
      '#template': |-
        <div class="visit-details" role="status">

            <h2 class="visually-hidden">Visit details</h2>

            <dl>
                <dt>Prison</dt><dd>{{ data.prison_name }}</dd>
                <dt>Visit type</dt><dd>{{ data.visit_type }}</dd>
                <dt>Visiting prisoner</dt><dd>{{ data.prisoner_id }}</dd>
            </dl>

        </div>
      '#store': true
    time_slot_restrictions:
      '#type': webform_computed_twig
      '#title': 'Time slot restrictions'
      '#title_display': invisible
      '#display_on': form
      '#mode': html
      '#template': |-
        <p class="info-notice" role="alert" aria-live="polite">
          Choose your preferred time slot for this visit. &nbsp;You can choose up to
          {% if data.visitor_order_number | slice(2, 1) == 'V' %}
            five
          {% else %}
            three
          {% endif %}
          time slots. &nbsp;We will try to book the first of your chosen time slots that is available.
        </p>
    slots_week_1:
      '#type': details
      '#title': 'Week commencing [DATE]'
      '#open': true
      '#summary_attributes':
        class:
          - btn
          - btn--primary
          - btn--block
      '#format': container
      monday_week_1:
        '#type': checkboxes
        '#title': Monday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      tuesday_week_1:
        '#type': checkboxes
        '#title': Tuesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      wednesday_week_1:
        '#type': checkboxes
        '#title': Wednesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      thursday_week_1:
        '#type': checkboxes
        '#title': Thursday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      friday_week_1:
        '#type': checkboxes
        '#title': Friday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      saturday_week_1:
        '#type': checkboxes
        '#title': Saturday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      sunday_week_1:
        '#type': checkboxes
        '#title': Sunday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
    slots_week_2:
      '#type': details
      '#title': 'Week commencing [DATE]'
      '#summary_attributes':
        class:
          - btn
          - btn--primary
          - btn--block
      '#format': container
      monday_week_2:
        '#type': checkboxes
        '#title': Monday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      tuesday_week_2:
        '#type': checkboxes
        '#title': Tuesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      wednesday_week_2:
        '#type': checkboxes
        '#title': Wednesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      thursday_week_2:
        '#type': checkboxes
        '#title': Thursday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      friday_week_2:
        '#type': checkboxes
        '#title': Friday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      saturday_week_2:
        '#type': checkboxes
        '#title': Saturday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      sunday_week_2:
        '#type': checkboxes
        '#title': Sunday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
    slots_week_3:
      '#type': details
      '#title': 'Week commencing [DATE]'
      '#summary_attributes':
        class:
          - btn
          - btn--primary
          - btn--block
      '#format': container
      monday_week_3:
        '#type': checkboxes
        '#title': Monday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      tuesday_week_3:
        '#type': checkboxes
        '#title': Tuesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      wednesday_week_3:
        '#type': checkboxes
        '#title': Wednesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      thursday_week_3:
        '#type': checkboxes
        '#title': Thursday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      friday_week_3:
        '#type': checkboxes
        '#title': Friday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      saturday_week_3:
        '#type': checkboxes
        '#title': Saturday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      sunday_week_3:
        '#type': checkboxes
        '#title': Sunday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
    slots_week_4:
      '#type': details
      '#title': 'Week commencing [DATE]'
      '#summary_attributes':
        class:
          - btn
          - btn--primary
          - btn--block
      '#format': container
      monday_week_4:
        '#type': checkboxes
        '#title': Monday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      tuesday_week_4:
        '#type': checkboxes
        '#title': Tuesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      wednesday_week_4:
        '#type': checkboxes
        '#title': Wednesday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      thursday_week_4:
        '#type': checkboxes
        '#title': Thursday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      friday_week_4:
        '#type': checkboxes
        '#title': Friday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      saturday_week_4:
        '#type': checkboxes
        '#title': Saturday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
      sunday_week_4:
        '#type': checkboxes
        '#title': Sunday
        '#options': prison_visit_times
        '#options_display': buttons_horizontal
    slots_preferred:
      '#type': webform_computed_twig
      '#title': 'Your visit preferred dates and times'
      '#display_on': view
      '#template': |-
        <h3>Preferred visit dates and times</h3>
        <div class="webform-element">
        <ul>
          {% if data.slot1_pretty_datetime %}
            <li>{{ data.slot1_pretty_datetime }}</li>
          {% endif %}
          {% if data.slot2_pretty_datetime %}
            <li>{{ data.slot2_pretty_datetime }}</li>
          {% endif %}
          {% if data.slot3_pretty_datetime %}
            <li>{{ data.slot3_pretty_datetime }}</li>
          {% endif %}
          {% if data.slot4_pretty_datetime %}
            <li>{{ data.slot4_pretty_datetime }}</li>
          {% endif %}
          {% if data.slot5_pretty_datetime %}
            <li>{{ data.slot5_pretty_datetime }}</li>
          {% endif %}
        </ul>
        </div>
        <p class="info-notice">
          We will try to book the first available date and time from your list of preferred dates and times.
        </p>
  slot1_datetime:
    '#type': hidden
    '#title': SLOT1_DATETIME
  slot2_datetime:
    '#type': hidden
    '#title': SLOT2_DATETIME
  slot3_datetime:
    '#type': hidden
    '#title': SLOT3_DATETIME
  slot4_datetime:
    '#type': hidden
    '#title': SLOT4_DATETIME
  slot5_datetime:
    '#type': hidden
    '#title': SLOT5_DATETIME
  slot1_pretty_datetime:
    '#type': hidden
    '#title': SLOT1_PRETTY_DATETIME
  slot2_pretty_datetime:
    '#type': hidden
    '#title': SLOT2_PRETTY_DATETIME
  slot3_pretty_datetime:
    '#type': hidden
    '#title': SLOT3_PRETTY_DATETIME
  slot4_pretty_datetime:
    '#type': hidden
    '#title': SLOT4_PRETTY_DATETIME
  slot5_pretty_datetime:
    '#type': hidden
    '#title': SLOT5_PRETTY_DATETIME
  special_requirements_json:
    '#type': hidden
    '#title': SPECIAL_REQUIREMENTS_JSON
  av1_id:
    '#type': value
    '#title': AV1_ID
  av1_dob:
    '#type': value
    '#title': AV1_DOB
  av2_id:
    '#type': value
    '#title': AV2_ID
  av2_dob:
    '#type': value
    '#title': AV2_DOB
  av3_id:
    '#type': value
    '#title': AV3_ID
  av3_dob:
    '#type': value
    '#title': AV3_DOB
  av4_id:
    '#type': value
    '#title': AV4_ID
  av4_dob:
    '#type': value
    '#title': AV4_DOB
  av5_id:
    '#type': value
    '#title': AV5_ID
  av5_dob:
    '#type': value
    '#title': AV5_DOB
  actions:
    '#type': webform_actions
    '#title': 'Submit button(s)'
    '#submit__label': 'Book prison visit'
css: ''
javascript: ''
settings:
  ajax: true
  ajax_scroll_top: form
  ajax_progress_type: throbber
  ajax_effect: fade
  ajax_speed: null
  page: true
  page_submit_path: ''
  page_confirm_path: ''
  page_theme_name: ''
  form_title: source_entity_webform
  form_submit_once: true
  form_open_message: ''
  form_close_message: ''
  form_exception_message: ''
  form_previous_submissions: false
  form_confidential: false
  form_confidential_message: ''
  form_disable_remote_addr: false
  form_convert_anonymous: false
  form_prepopulate: false
  form_prepopulate_source_entity: false
  form_prepopulate_source_entity_required: false
  form_prepopulate_source_entity_type: ''
  form_unsaved: false
  form_disable_back: true
  form_submit_back: false
  form_disable_autocomplete: false
  form_novalidate: false
  form_disable_inline_errors: false
  form_required: false
  form_autofocus: false
  form_details_toggle: false
  form_reset: false
  form_access_denied: default
  form_access_denied_title: ''
  form_access_denied_message: ''
  form_access_denied_attributes: {  }
  form_file_limit: ''
  form_attributes: {  }
  form_method: ''
  form_action: ''
  share: false
  share_node: false
  share_theme_name: ''
  share_title: true
  share_page_body_attributes: {  }
  submission_label: ''
  submission_exception_message: ''
  submission_locked_message: ''
  submission_log: false
  submission_excluded_elements: {  }
  submission_exclude_empty: false
  submission_exclude_empty_checkbox: false
  submission_views: {  }
  submission_views_replace: {  }
  submission_user_columns: {  }
  submission_user_duplicate: false
  submission_access_denied: default
  submission_access_denied_title: ''
  submission_access_denied_message: ''
  submission_access_denied_attributes: {  }
  previous_submission_message: ''
  previous_submissions_message: ''
  autofill: false
  autofill_message: ''
  autofill_excluded_elements: {  }
  wizard_progress_bar: false
  wizard_progress_pages: false
  wizard_progress_percentage: false
  wizard_progress_link: false
  wizard_progress_states: false
  wizard_start_label: ''
  wizard_preview_link: false
  wizard_confirmation: true
  wizard_confirmation_label: ''
  wizard_auto_forward: true
  wizard_auto_forward_hide_next_button: false
  wizard_keyboard: true
  wizard_track: ''
  wizard_prev_button_label: ''
  wizard_next_button_label: ''
  wizard_toggle: false
  wizard_toggle_show_label: ''
  wizard_toggle_hide_label: ''
  wizard_page_type: container
  wizard_page_title_tag: h2
  preview: 2
  preview_label: Confirmation
  preview_title: 'Confirm prison visit'
  preview_message: ''
  preview_attributes: {  }
  preview_excluded_elements:
    visitor_1_intro: visitor_1_intro
    msg_existing_additional_visitors: msg_existing_additional_visitors
    msg_additional_visitors: msg_additional_visitors
    prison_name: prison_name
    visit_type: visit_type
    booking_reference_processed: booking_reference_processed
    monday_week_1: monday_week_1
    tuesday_week_1: tuesday_week_1
    wednesday_week_1: wednesday_week_1
    thursday_week_1: thursday_week_1
    friday_week_1: friday_week_1
    saturday_week_1: saturday_week_1
    sunday_week_1: sunday_week_1
    monday_week_2: monday_week_2
    tuesday_week_2: tuesday_week_2
    wednesday_week_2: wednesday_week_2
    thursday_week_2: thursday_week_2
    friday_week_2: friday_week_2
    saturday_week_2: saturday_week_2
    sunday_week_2: sunday_week_2
    monday_week_3: monday_week_3
    tuesday_week_3: tuesday_week_3
    wednesday_week_3: wednesday_week_3
    thursday_week_3: thursday_week_3
    friday_week_3: friday_week_3
    saturday_week_3: saturday_week_3
    sunday_week_3: sunday_week_3
    monday_week_4: monday_week_4
    tuesday_week_4: tuesday_week_4
    wednesday_week_4: wednesday_week_4
    thursday_week_4: thursday_week_4
    friday_week_4: friday_week_4
    saturday_week_4: saturday_week_4
    sunday_week_4: sunday_week_4
    slot1_datetime: slot1_datetime
    slot2_datetime: slot2_datetime
    slot3_datetime: slot3_datetime
    slot4_datetime: slot4_datetime
    slot5_datetime: slot5_datetime
    slot1_pretty_datetime: slot1_pretty_datetime
    slot2_pretty_datetime: slot2_pretty_datetime
    slot3_pretty_datetime: slot3_pretty_datetime
    slot4_pretty_datetime: slot4_pretty_datetime
    slot5_pretty_datetime: slot5_pretty_datetime
    special_requirements_json: special_requirements_json
    av1_id: av1_id
    av1_dob: av1_dob
    av2_id: av2_id
    av2_dob: av2_dob
    av3_id: av3_id
    av3_dob: av3_dob
    av4_id: av4_id
    av4_dob: av4_dob
    av5_id: av5_id
    av5_dob: av5_dob
  preview_exclude_empty: true
  preview_exclude_empty_checkbox: true
  draft: none
  draft_multiple: false
  draft_auto_save: false
  draft_saved_message: ''
  draft_loaded_message: ''
  draft_pending_single_message: ''
  draft_pending_multiple_message: ''
  confirmation_type: page
  confirmation_url: ''
  confirmation_title: 'Prison visit booking complete'
  confirmation_message: |-
    <p class="info-notice">
    We will send you an email shortly to let you know whether your booking request has been successful.  Please allow up to 1 hour for this email to arrive.
    </p>
  confirmation_attributes: {  }
  confirmation_back: true
  confirmation_back_label: 'Book another prison visit'
  confirmation_back_attributes: {  }
  confirmation_exclude_query: false
  confirmation_exclude_token: false
  confirmation_update: false
  limit_total: null
  limit_total_interval: null
  limit_total_message: ''
  limit_total_unique: false
  limit_user: null
  limit_user_interval: null
  limit_user_message: ''
  limit_user_unique: false
  entity_limit_total: null
  entity_limit_total_interval: null
  entity_limit_user: null
  entity_limit_user_interval: null
  purge: none
  purge_days: null
  results_disabled: false
  results_disabled_ignore: false
  results_customize: false
  token_view: false
  token_update: false
  token_delete: false
  serial_disabled: false
access:
  create:
    roles:
      - anonymous
      - authenticated
    users: {  }
    permissions: {  }
  view_any:
    roles: {  }
    users: {  }
    permissions: {  }
  update_any:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_any:
    roles: {  }
    users: {  }
    permissions: {  }
  purge_any:
    roles: {  }
    users: {  }
    permissions: {  }
  view_own:
    roles: {  }
    users: {  }
    permissions: {  }
  update_own:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_own:
    roles: {  }
    users: {  }
    permissions: {  }
  administer:
    roles: {  }
    users: {  }
    permissions: {  }
  test:
    roles: {  }
    users: {  }
    permissions: {  }
  configuration:
    roles: {  }
    users: {  }
    permissions: {  }
handlers:
  ov_in_plain:
    id: email
    handler_id: ov_in_plain
    label: OV_IN
    notes: ''
    status: true
    conditions: {  }
    weight: 2
    settings:
      states:
        - completed
      to_mail: peter.caughey@justice-ni.gov.uk
      to_options: {  }
      bcc_mail: ''
      bcc_options: {  }
      cc_mail: '[webform_submission:values:visitor_1_email:raw]'
      cc_options: {  }
      from_mail: _default
      from_options: {  }
      from_name: _default
      reply_to: ''
      return_path: ''
      sender_mail: ''
      sender_name: ''
      subject: OV_IN
      body: |-
        {
        "SUBMITTED_DATETIME": "[webform_submission:completed:prison_visit_booking_datetime]",
        "VISIT_ORDER_NO": "[webform_submission:values:visitor_order_number]",
        "INMATE_ID": "[webform_submission:values:prisoner_id]",
        "SPECIAL_REQUIREMENTS": [webform_submission:values:special_requirements_json],
        "VISITOR_1_ID": "[webform_submission:values:visitor_1_id]",
        "VISITOR_1_DOB": "[webform_submission:values:visitor_1_dob:prison_visit_booking_datetime]",
        "VISITOR_1_EMAIL": "[webform_submission:values:visitor_1_email]",
        "VISITOR_1_PHONE": "[webform_submission:values:visitor_1_telephone]",
        "VISITOR_2_ID": "[webform_submission:values:av1_id]",
        "VISITOR_2_DOB": "[webform_submission:values:av1_dob]",
        "VISITOR_3_ID": "[webform_submission:values:av2_id]",
        "VISITOR_3_DOB": "[webform_submission:values:av2_dob]",
        "VISITOR_4_ID": "[webform_submission:values:av3_id]",
        "VISITOR_4_DOB": "[webform_submission:values:av3_dob]",
        "VISITOR_5_ID": "[webform_submission:values:av4_id]",
        "VISITOR_5_DOB": "[webform_submission:values:av4_dob]",
        "SLOT1_DATETIME": "[webform_submission:values:slot1_datetime]",
        "SLOT2_DATETIME": "[webform_submission:values:slot2_datetime]",
        "SLOT3_DATETIME": "[webform_submission:values:slot3_datetime]",
        "SLOT4_DATETIME": "[webform_submission:values:slot4_datetime]",
        "SLOT5_DATETIME": "[webform_submission:values:slot5_datetime]"
        }
      excluded_elements:
        visitor_1_intro: visitor_1_intro
        visit_details: visit_details
        monday_week_1: monday_week_1
        tuesday_week_1: tuesday_week_1
        wednesday_week_1: wednesday_week_1
        thursday_week_1: thursday_week_1
        friday_week_1: friday_week_1
        saturday_week_1: saturday_week_1
        sunday_week_1: sunday_week_1
        monday_week_2: monday_week_2
        tuesday_week_2: tuesday_week_2
        wednesday_week_2: wednesday_week_2
        thursday_week_2: thursday_week_2
        friday_week_2: friday_week_2
        saturday_week_2: saturday_week_2
        sunday_week_2: sunday_week_2
        monday_week_3: monday_week_3
        tuesday_week_3: tuesday_week_3
        wednesday_week_3: wednesday_week_3
        thursday_week_3: thursday_week_3
        friday_week_3: friday_week_3
        saturday_week_3: saturday_week_3
        sunday_week_3: sunday_week_3
        monday_week_4: monday_week_4
        tuesday_week_4: tuesday_week_4
        wednesday_week_4: wednesday_week_4
        thursday_week_4: thursday_week_4
        friday_week_4: friday_week_4
        saturday_week_4: saturday_week_4
        sunday_week_4: sunday_week_4
      ignore_access: true
      exclude_empty: true
      exclude_empty_checkbox: false
      exclude_attachments: false
      html: false
      attachments: false
      twig: false
      theme_name: ''
      parameters: {  }
      debug: false
  prison_visit_booking:
    id: prison_visit_booking
    handler_id: prison_visit_booking
    label: 'Prison Visit Booking'
    notes: ''
    status: true
    conditions: {  }
    weight: 3
    settings:
      prisons:
        MY: Maghaberry
        HW: 'Hydebank Wood'
        MN: Magilligan
      visit_order_number_length: 12
      visit_order_number_max_advance_issue: '4 weeks'
      visit_order_number_categories:
        integrated:
          -
            - 1
            - 8999
        separates:
          -
            - 9000
            - 9499
          -
            - 9500
            - 9999
      visit_type:
        F: face-to-face
        V: virtual
        E: enhanced
      visit_advance_notice:
        F: '24 hours'
        V: '48 hours'
        E: '24 hours'
      booking_reference_validity_period_days:
        F: 7
        V: 7
        E: 28
      visit_slots:
        face-to-face:
          MY_INT:
            - '03-01-1973 09:15:00'
            - '03-01-1973 10:45:00'
            - '03-01-1973 14:15:00'
            - '03-01-1973 15:30:00'
            - '04-01-1973 09:15:00'
            - '04-01-1973 10:45:00'
            - '04-01-1973 14:15:00'
            - '04-01-1973 15:30:00'
            - '06-01-1973 09:15:00'
            - '06-01-1973 10:45:00'
            - '06-01-1973 14:15:00'
            - '06-01-1973 15:30:00'
          MY_AFILL_1:
            - '03-01-1973 10:30:00'
            - '04-01-1973 14:30:00'
            - '06-01-1973 14:30:00'
          MY_AFILL_2:
            - '03-01-1973 14:30:00'
            - '04-01-1973 10:30:00'
            - '06-01-1973 10:30:00'
          MN:
            - '03-01-1973 10:15:00'
            - '03-01-1973 14:15:00'
            - '05-01-1973 10:15:00'
            - '05-01-1973 14:15:00'
            - '06-01-1973 10:15:00'
            - '06-01-1973 14:15:00'
          HW:
            - '02-01-1973 09:30:00'
            - '02-01-1973 10:45:00'
            - '02-01-1973 14:00:00'
            - '02-01-1973 15:15:00'
            - '03-01-1973 09:30:00'
            - '03-01-1973 10:45:00'
            - '03-01-1973 14:00:00'
            - '03-01-1973 15:15:00'
            - '07-01-1973 09:30:00'
            - '07-01-1973 10:45:00'
            - '07-01-1973 14:30:00'
          HW_AFILL:
            - '02-01-1973 09:30:00'
            - '02-01-1973 10:45:00'
            - '02-01-1973 14:00:00'
            - '02-01-1973 15:15:00'
            - '03-01-1973 09:30:00'
            - '03-01-1973 10:45:00'
            - '03-01-1973 14:00:00'
            - '03-01-1973 15:15:00'
            - '07-01-1973 09:30:00'
            - '07-01-1973 10:45:00'
            - '07-01-1973 14:30:00'
        virtual:
          MY:
            - '01-01-1973 09:30'
            - '01-01-1973 10:00'
            - '01-01-1973 10:30'
            - '01-01-1973 11:00'
            - '01-01-1973 14:30'
            - '01-01-1973 15:00'
            - '02-01-1973 09:30'
            - '02-01-1973 10:00'
            - '02-01-1973 10:30'
            - '02-01-1973 11:00'
            - '02-01-1973 14:30'
            - '02-01-1973 15:00'
            - '03-01-1973 09:30'
            - '03-01-1973 10:00'
            - '03-01-1973 10:30'
            - '03-01-1973 11:00'
            - '03-01-1973 14:30'
            - '03-01-1973 15:00'
            - '04-01-1973 09:30'
            - '04-01-1973 10:00'
            - '04-01-1973 10:30'
            - '04-01-1973 11:00'
            - '04-01-1973 14:30'
            - '04-01-1973 15:00'
            - '05-01-1973 09:30'
            - '05-01-1973 10:00'
            - '05-01-1973 10:30'
            - '05-01-1973 11:00'
            - '05-01-1973 14:30'
            - '05-01-1973 15:00'
            - '06-01-1973 09:30'
            - '06-01-1973 10:00'
            - '06-01-1973 10:30'
            - '06-01-1973 11:00'
            - '06-01-1973 14:30'
            - '06-01-1973 15:00'
            - '07-01-1973 09:30'
            - '07-01-1973 10:00'
            - '07-01-1973 10:30'
            - '07-01-1973 11:00'
            - '07-01-1973 14:30'
            - '07-01-1973 15:00'
          MN:
            - '01-01-1973 08:30'
            - '01-01-1973 09:00'
            - '01-01-1973 09:30'
            - '01-01-1973 10:00'
            - '01-01-1973 10:30'
            - '01-01-1973 11:00'
            - '01-01-1973 14:15'
            - '01-01-1973 14:45'
            - '01-01-1973 15:15'
            - '01-01-1973 15:45'
            - '01-01-1973 16:15'
            - '01-01-1973 16:45'
            - '01-01-1973 17:15'
            - '02-01-1973 08:30'
            - '02-01-1973 09:00'
            - '02-01-1973 09:30'
            - '02-01-1973 10:00'
            - '02-01-1973 10:30'
            - '02-01-1973 11:00'
            - '02-01-1973 14:15'
            - '02-01-1973 14:45'
            - '02-01-1973 15:15'
            - '02-01-1973 15:45'
            - '02-01-1973 16:15'
            - '02-01-1973 16:45'
            - '02-01-1973 17:15'
            - '03-01-1973 08:30'
            - '03-01-1973 09:00'
            - '03-01-1973 09:30'
            - '03-01-1973 10:00'
            - '03-01-1973 10:30'
            - '03-01-1973 11:00'
            - '03-01-1973 14:15'
            - '03-01-1973 14:45'
            - '03-01-1973 15:15'
            - '03-01-1973 15:45'
            - '03-01-1973 16:15'
            - '03-01-1973 16:45'
            - '03-01-1973 17:15'
            - '04-01-1973 08:30'
            - '04-01-1973 09:00'
            - '04-01-1973 09:30'
            - '04-01-1973 10:00'
            - '04-01-1973 10:30'
            - '04-01-1973 11:00'
            - '04-01-1973 14:15'
            - '04-01-1973 14:45'
            - '04-01-1973 15:15'
            - '04-01-1973 15:45'
            - '04-01-1973 16:15'
            - '04-01-1973 16:45'
            - '04-01-1973 17:15'
            - '05-01-1973 08:30'
            - '05-01-1973 09:00'
            - '05-01-1973 09:30'
            - '05-01-1973 10:00'
            - '05-01-1973 10:30'
            - '05-01-1973 11:00'
            - '05-01-1973 14:15'
            - '05-01-1973 14:45'
            - '05-01-1973 15:15'
            - '05-01-1973 15:45'
            - '05-01-1973 16:15'
            - '05-01-1973 16:45'
            - '05-01-1973 17:15'
            - '06-01-1973 09:15'
            - '06-01-1973 09:45'
            - '06-01-1973 10:15'
            - '06-01-1973 10:45'
            - '06-01-1973 11:15'
            - '06-01-1973 14:15'
            - '06-01-1973 14:45'
            - '06-01-1973 15:15'
            - '06-01-1973 15:45'
            - '06-01-1973 16:15'
            - '07-01-1973 09:15'
            - '07-01-1973 09:45'
            - '07-01-1973 10:15'
            - '07-01-1973 10:45'
            - '07-01-1973 11:15'
            - '07-01-1973 11:45'
            - '07-01-1973 14:15'
            - '07-01-1973 14:45'
            - '07-01-1973 15:15'
            - '07-01-1973 15:45'
            - '07-01-1973 16:15'
          HW:
            - '01-01-1973 09:00'
            - '01-01-1973 10:00'
            - '01-01-1973 11:00'
            - '01-01-1973 14:00'
            - '01-01-1973 15:00'
            - '01-01-1973 16:00'
            - '02-01-1973 09:00'
            - '02-01-1973 10:00'
            - '02-01-1973 11:00'
            - '02-01-1973 14:00'
            - '02-01-1973 15:00'
            - '02-01-1973 16:00'
            - '03-01-1973 09:00'
            - '03-01-1973 10:00'
            - '03-01-1973 11:00'
            - '03-01-1973 14:00'
            - '03-01-1973 15:00'
            - '03-01-1973 16:00'
            - '04-01-1973 09:00'
            - '04-01-1973 10:00'
            - '04-01-1973 11:00'
            - '04-01-1973 14:00'
            - '04-01-1973 15:00'
            - '04-01-1973 16:00'
            - '05-01-1973 09:00'
            - '05-01-1973 10:00'
            - '05-01-1973 11:00'
            - '05-01-1973 14:00'
            - '05-01-1973 15:00'
            - '05-01-1973 16:00'
            - '06-01-1973 09:30'
            - '06-01-1973 10:00'
            - '06-01-1973 10:30'
            - '06-01-1973 11:00'
            - '06-01-1973 11:30'
            - '06-01-1973 14:00'
            - '06-01-1973 14:30'
            - '06-01-1973 15:00'
            - '06-01-1973 15:30'
            - '06-01-1973 16:00'
            - '06-01-1973 18:00'
            - '06-01-1973 18:30'
            - '06-01-1973 19:00'
            - '06-01-1973 19:30'
            - '07-01-1973 09:00'
            - '07-01-1973 10:00'
            - '07-01-1973 11:00'
            - '07-01-1973 14:00'
            - '07-01-1973 15:00'
            - '07-01-1973 16:00'
      visit_slots_uri: 'https://gist.githubusercontent.com/dof-dss-eddwebdev/57ea797b76466f4036654e4242da82bb/raw/eb8eb122149add828bfad5179811ec77a4a90187/prism-slots.json'
variants: {  }
